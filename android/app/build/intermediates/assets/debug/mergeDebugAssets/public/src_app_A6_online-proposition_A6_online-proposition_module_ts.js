"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["src_app_A6_online-proposition_A6_online-proposition_module_ts"],{

/***/ 8274:
/*!***********************************************************************!*\
  !*** ./src/app/A6_online-proposition/A6_online-proposition.page.scss ***!
  \***********************************************************************/
/***/ ((module) => {

module.exports = "ion-content {\n  --background:linear-gradient(190deg, var(--orange) 20%, var(--blue) 0%);\n}\n\nh1 {\n  font-size: 40px;\n  text-align: center;\n  text-shadow: 1px 4px 3px rgba(0, 0, 0, 0.46);\n  color: white;\n  font-weight: bold;\n}\n\nh2 {\n  font-size: 35px;\n  text-align: right;\n  margin-right: 20px;\n  font-family: \"Rancho\";\n}\n\np {\n  font-size: 20px;\n  text-align: center;\n  margin-top: 20px;\n  color: white;\n}\n\nh4 {\n  font-size: 35px;\n  text-align: left;\n  font-family: \"Rancho\";\n  color: white;\n  margin: 20px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkE2X29ubGluZS1wcm9wb3NpdGlvbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDQyx1RUFBQTtBQUREOztBQUtBO0VBQ0ksZUFBQTtFQUNBLGtCQUFBO0VBQ0EsNENBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7QUFGSjs7QUFLQTtFQUNJLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EscUJBQUE7QUFGSjs7QUFLQTtFQUNJLGVBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtBQUZKOztBQUtBO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0VBQ0EscUJBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQUZKIiwiZmlsZSI6IkE2X29ubGluZS1wcm9wb3NpdGlvbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLy8gYmFja2dyb3VuZCBjb2xvclxyXG5pb24tY29udGVudCB7XHJcblx0LS1iYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxOTBkZWcsIHZhcigtLW9yYW5nZSkgMjAlLCB2YXIoLS1ibHVlKSAwJSk7XHJcbn1cclxuXHJcbi8vdGl0bGVcclxuaDF7XHJcbiAgICBmb250LXNpemU6IDQwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB0ZXh0LXNoYWRvdzogMXB4IDRweCAzcHggcmdiYSgwLDAsMCwwLjQ2KTtcclxuICAgIGNvbG9yOndoaXRlO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuXHJcbmgye1xyXG4gICAgZm9udC1zaXplOiAzNXB4O1xyXG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbiAgICBmb250LWZhbWlseTpcIlJhbmNob1wiO1xyXG59XHJcblxyXG5we1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgIGNvbG9yOndoaXRlO1xyXG59XHJcblxyXG5oNHtcclxuICAgIGZvbnQtc2l6ZTogMzVweDtcclxuICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICBmb250LWZhbWlseTpcIlJhbmNob1wiO1xyXG4gICAgY29sb3I6d2hpdGU7XHJcbiAgICBtYXJnaW46IDIwcHg7XHJcbn1cclxuXHJcblxyXG4iXX0= */";

/***/ }),

/***/ 5835:
/*!*******************************************************************************!*\
  !*** ./src/app/A6_online-proposition/A6_online-proposition-routing.module.ts ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OnlinePropositionPageRoutingModule": () => (/* binding */ OnlinePropositionPageRoutingModule)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ 8806);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 4001);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ 3252);
/* harmony import */ var _A6_online_proposition_page__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./A6_online-proposition.page */ 9295);




const routes = [
    {
        path: '',
        component: _A6_online_proposition_page__WEBPACK_IMPORTED_MODULE_0__.A6_OnlinePropositionPage
    }
];
let OnlinePropositionPageRoutingModule = class OnlinePropositionPageRoutingModule {
};
OnlinePropositionPageRoutingModule = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.NgModule)({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_3__.RouterModule.forChild(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_3__.RouterModule],
    })
], OnlinePropositionPageRoutingModule);



/***/ }),

/***/ 7572:
/*!***********************************************************************!*\
  !*** ./src/app/A6_online-proposition/A6_online-proposition.module.ts ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OnlinePropositionPageModule": () => (/* binding */ OnlinePropositionPageModule)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ 8806);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 4001);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ 8267);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ 8346);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/angular */ 8099);
/* harmony import */ var _A6_online_proposition_routing_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./A6_online-proposition-routing.module */ 5835);
/* harmony import */ var _A6_online_proposition_page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./A6_online-proposition.page */ 9295);







let OnlinePropositionPageModule = class OnlinePropositionPageModule {
};
OnlinePropositionPageModule = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.NgModule)({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_4__.CommonModule,
            _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule,
            _ionic_angular__WEBPACK_IMPORTED_MODULE_6__.IonicModule,
            _A6_online_proposition_routing_module__WEBPACK_IMPORTED_MODULE_0__.OnlinePropositionPageRoutingModule
        ],
        declarations: [_A6_online_proposition_page__WEBPACK_IMPORTED_MODULE_1__.A6_OnlinePropositionPage]
    })
], OnlinePropositionPageModule);



/***/ }),

/***/ 9295:
/*!*********************************************************************!*\
  !*** ./src/app/A6_online-proposition/A6_online-proposition.page.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "A6_OnlinePropositionPage": () => (/* binding */ A6_OnlinePropositionPage)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tslib */ 8806);
/* harmony import */ var _c_Users_stagiaire_Desktop_Dev_diko_node_modules_ngtools_webpack_src_loaders_direct_resource_js_A6_online_proposition_page_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !./node_modules/@ngtools/webpack/src/loaders/direct-resource.js!./A6_online-proposition.page.html */ 8949);
/* harmony import */ var _A6_online_proposition_page_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./A6_online-proposition.page.scss */ 8274);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 4001);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ 3252);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ 8099);
/* harmony import */ var _services_partie_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/partie.service */ 4617);







let A6_OnlinePropositionPage = class A6_OnlinePropositionPage {
    constructor(service, router) {
        this.service = service;
        this.router = router;
        this.definitions = [];
        this.joueurs = [];
        this.partieEnCours = this.service.partieEnCours;
    }
    ngOnInit() {
    }
    ionViewWillEnter() {
        //Retrieves total number of votes from total number of ion-chip elements
        this.votes = this.chips.length;
        // Retrieve from DB : current word, list of turns, list of players
        this.service.getPartie(this.partieEnCours).subscribe(u => {
            this.joueurs = u.joueur;
            this.service.getTour(u.manche[this.service.mancheEnCours]._ID).subscribe(tableauTours => {
                this.mot = tableauTours[this.service.tourEnCours].mot_choisi;
                let idTour = tableauTours[this.service.tourEnCours]._ID;
                //waiting for all the players voted
                this.waitingForVote(this.service, this.router, idTour);
            });
        });
    }
    //waiting for all the votes : when all players have voted -> we can go to "reponse" page
    waitingForVote(service, router, idTour) {
        setTimeout(() => {
            // retreive array of resultat to display
            this.service.getAllResultat(idTour).subscribe(tableauResultat => {
                this.definitions = tableauResultat;
                this.votes = this.chips.length;
                if (this.votes == this.joueurs.length) {
                    router.navigate(['reponse'], { queryParams: { status: 'online' } });
                }
                else {
                    this.waitingForVote(service, router, idTour);
                }
            });
        }, 1000);
    }
};
A6_OnlinePropositionPage.ctorParameters = () => [
    { type: _services_partie_service__WEBPACK_IMPORTED_MODULE_2__.PartieService },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__.Router }
];
A6_OnlinePropositionPage.propDecorators = {
    chips: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__.ViewChildren, args: [_ionic_angular__WEBPACK_IMPORTED_MODULE_5__.IonChip,] }]
};
A6_OnlinePropositionPage = (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.Component)({
        selector: 'app-online-proposition',
        template: _c_Users_stagiaire_Desktop_Dev_diko_node_modules_ngtools_webpack_src_loaders_direct_resource_js_A6_online_proposition_page_html__WEBPACK_IMPORTED_MODULE_0__["default"],
        styles: [_A6_online_proposition_page_scss__WEBPACK_IMPORTED_MODULE_1__]
    })
], A6_OnlinePropositionPage);



/***/ }),

/***/ 8949:
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/@ngtools/webpack/src/loaders/direct-resource.js!./src/app/A6_online-proposition/A6_online-proposition.page.html ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("<ion-content>\r\n  <ion-grid>\r\n    <ion-row>\r\n      <ion-col>\r\n        <h1>PROPOSITIONS</h1>\r\n      </ion-col>\r\n    </ion-row>\r\n\r\n    <ion-row>\r\n      <ion-col>\r\n        <!-- word-->\r\n        <h2>{{mot}}</h2>\r\n      </ion-col>\r\n    </ion-row>\r\n\r\n    <ion-row>\r\n      <ion-col>\r\n        <p>Appuie sur les définitions pour les lire et vote pour celle qui te paraît être la bonne !</p>\r\n      </ion-col>\r\n    </ion-row>\r\n\r\n    <!-- for every entry in current Tour's resultats, we create a line so we can read definition and vote -->\r\n    <ion-row *ngFor=\"let def of definitions; let index = index\" routerLink=\"/online-vote\" [queryParams]=\"{ indexDefinition : [index]}\">\r\n      <ion-col>\r\n        <h4>Définition n°{{index+1}}</h4>\r\n      </ion-col>\r\n      <ion-col>\r\n        <!-- display the chip of the player who vote for this definition-->\r\n        <ion-chip *ngFor=\"let vote of def.id_vote;let z = index;\" [attr.data-index]=\"z\">\r\n          <ion-avatar>\r\n            <img src=\"../../assets/avatarexemple.jpg\">\r\n          </ion-avatar>\r\n          <ion-label>\r\n            <!-- reteive the name of the player-->\r\n            {{this.service.findPlayerName(vote,joueurs)}}\r\n          </ion-label>\r\n        </ion-chip>\r\n      </ion-col>\r\n    </ion-row>\r\n\r\n    <ion-row>\r\n      <ion-col>\r\n        <!-- number of players already voted / number total of players-->\r\n        <p>Votes en cours : {{votes}}/{{joueurs.length}}</p>\r\n      </ion-col>\r\n    </ion-row>\r\n    <!-- Display progress bar with current completed votes -->\r\n    <ion-row>\r\n      <ion-col>\r\n        <ion-progress-bar [value]=\"votes/joueurs.length\" color=\"light\"></ion-progress-bar>\r\n      </ion-col>\r\n    </ion-row>\r\n  </ion-grid>\r\n</ion-content>\r\n");

/***/ })

}]);
//# sourceMappingURL=src_app_A6_online-proposition_A6_online-proposition_module_ts.js.map
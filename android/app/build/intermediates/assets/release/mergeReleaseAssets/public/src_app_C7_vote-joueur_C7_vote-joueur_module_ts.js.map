{"version":3,"file":"src_app_C7_vote-joueur_C7_vote-joueur_module_ts.js","mappings":"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","sources":["./src/app/C7_vote-joueur/C7_vote-joueur-routing.module.ts","./src/app/C7_vote-joueur/C7_vote-joueur.module.ts","./src/app/C7_vote-joueur/C7_vote-joueur.page.ts","./src/app/C7_vote-joueur/C7_vote-joueur.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { C7_VoteJoueurPage } from './C7_vote-joueur.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: C7_VoteJoueurPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class VoteJoueurPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { VoteJoueurPageRoutingModule } from './C7_vote-joueur-routing.module';\n\nimport { C7_VoteJoueurPage } from './C7_vote-joueur.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    VoteJoueurPageRoutingModule\n  ],\n  declarations: [C7_VoteJoueurPage]\n})\nexport class VoteJoueurPageModule {}\n","import { Component, OnInit, QueryList, ViewChildren } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router'; // import ActiveRoute\nimport { OfflineService } from '../services/offline.service'; // import service\nimport { IonChip, NavController } from '@ionic/angular';\n\n//import classes\nimport { Joueur } from '../classes/joueur';\n\n@Component({\n  selector: 'app-vote-joueur',\n  templateUrl: './C7_vote-joueur.page.html',\n  styleUrls: ['./C7_vote-joueur.page.scss'],\n})\nexport class C7_VoteJoueurPage implements OnInit {\n\n  joueurs:Array<Joueur>;\n  indexDefinition:number;\n  mot:string;\n  definition:string;\n  idMj:number;\n\n  //View Children Decorator : retrieve all IonChip Elements as a QueryList (looks like an array)\n  @ViewChildren(IonChip) chips:QueryList<HTMLIonChipElement>;\n\n  constructor(private route:ActivatedRoute, private service:OfflineService, private NavCtrl:NavController) { // inject service, and ActivatedRoute to retrieve Route queryparams\n\n    // retrieve Game Master ID (MJ)\n    this.idMj = this.service.manches[this.service.mancheEnCours].tours[this.service.toursEnCours].id_mj;\n    // retrieve chosen word\n    this.mot = this.service.manches[this.service.mancheEnCours].tours[this.service.toursEnCours].mot_choisi; \n\n    // retrieve \"query parameter\" in the route to get index number of definition\n    this.route.queryParams.subscribe(param => {\n      this.indexDefinition = parseInt(param['indexDefinition']);\n\n      //retrieve word definition\n      this.definition = this.service.manches[this.service.mancheEnCours].tours[this.service.toursEnCours].resultat[this.indexDefinition].definition;\n\t\t})\n  }\n\n  ngOnInit() {\n    // retrieve list of players\n    this.joueurs = this.service.joueurs;\n  }\n  \n  // ViewChildren's QueryList is accessible only starting from this method\n  ngAfterViewInit() {\n    // Retrieves votes\n    let arrayVote = this.service.manches[this.service.mancheEnCours].tours[this.service.toursEnCours].resultat[this.indexDefinition].id_vote;\n    \n    // Retrieves all the \"resultat\" arrays\n    let resultatTemp = this.service.manches[this.service.mancheEnCours].tours[this.service.toursEnCours];\n    \n    // Browses ion-chips, if chip is in arrayVote (has been voted already), color it ;\n    this.chips.forEach((chip,index) => {\n      for(let y=0;y<arrayVote.length;y++){\n        if(arrayVote[y] == index){\n          chip.color=\"success\";\n        }\n      }\n      // Also, if chip is Game Master's (MJ), disable it \n      if (this.idMj == index){\n        chip.disabled = true;\n      }\n\n      // Check votes in each \"resultat\" array ; if we find a vote corresponding to current chip index AND not in current \"resultat\" array, we disable it\n      for (let i=0;i<resultatTemp.resultat.length;i++){\n        for (let y=0;y<resultatTemp.resultat[i].id_vote.length;y++){\n          if (resultatTemp.resultat[i].id_vote[y] == index && i !== this.indexDefinition){\n            chip.disabled = true;\n          }\n        }\n      }\n    });\n  }\n\n  click(id_joueur:number){\n    // Retrieve position of \"id_joueur\" parametre in id_vote array\n    let index = this.service.manches[this.service.mancheEnCours].tours[this.service.toursEnCours].resultat[this.indexDefinition].id_vote.indexOf(id_joueur);\n\n    if (index !== -1) { //if value exists in array\n      this.service.manches[this.service.mancheEnCours].tours[this.service.toursEnCours].resultat[this.indexDefinition].id_vote.splice(index, 1); //delete it\n      this.chips.get(id_joueur).color = \"\"; // removes color from chip\n    } else { //else, add it to the array\n      this.service.manches[this.service.mancheEnCours].tours[this.service.toursEnCours].resultat[this.indexDefinition].id_vote.push(id_joueur);\n      this.chips.get(id_joueur).color = \"success\"; // sets color on chip\n    }\n  }\n\n\tgoBack():void{\n\t\tthis.NavCtrl.back();\n\t}\n}","export default \"<ion-content>\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <h1>Définition n°{{indexDefinition+1}}</h1>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <h2>{{mot}}</h2>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <p>{{definition}}</p>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <!-- for every entry in current Tour's resultats, we create a line so we can enter votes -->\\r\\n    <ion-row>\\r\\n      <!-- Only create element if player is NOT MJ -->\\r\\n      <ion-col *ngFor=\\\"let joueur of joueurs; let index = index\\\">\\r\\n        <ion-chip (click)=\\\"click(joueur.id_joueur)\\\">\\r\\n          <ion-avatar>\\r\\n            <img src=\\\"../../assets/avatarexemple.jpg\\\">\\r\\n          </ion-avatar>\\r\\n          <ion-label>\\r\\n            {{joueur.nom_joueur}}\\r\\n          </ion-label>\\r\\n        </ion-chip>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row class=\\\"ion-justify-content-center\\\">\\r\\n      <ion-fab>\\r\\n        <ion-fab-button (click)=\\\"goBack()\\\">\\r\\n          <ion-icon name=\\\"chevron-back-sharp\\\"></ion-icon>\\r\\n        </ion-fab-button>\\r\\n      </ion-fab>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}